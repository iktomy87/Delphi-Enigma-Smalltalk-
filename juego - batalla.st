Morph subclass: #Batalla	instanceVariableNames: 'jugador1 jugador2 botones movimiento vida1 vida2 cuadro background'	classVariableNames: ''	poolDictionaries: ''	category: 'juego - batalla'!!Batalla methodsFor: 'initialization' stamp: 'AlejandroTorres 11/23/2024 22:55'!initialize |jugador enemigo bestia1 bestia2 b c d e b2 c2 d2 e2 x_1 y_1 x_2 y_2|bestia1:= Bestia new.bestia1 nombre: 'Quimera'; vida: 100.b := Movimiento new. b nombre: 'Aliento de Dragón' poder: 35. c := Movimiento new. c nombre: 'Zarpazo de Cabra' poder: 25.d := Movimiento new. d nombre: 'Picadura de Pitón' poder: 15. e := Movimiento new. e nombre: 'Aleteo de Dragón' poder: 45.bestia1 agragarMovimiento: c; agragarMovimiento: b; agragarMovimiento: d; agragarMovimiento: e.bestia2:= Bestia new.bestia2 nombre: 'Hidra'; vida: 100.b2 := Movimiento new. b2 nombre: 'Hidracolmillo' poder: 40. c2 := Movimiento new. c2 nombre: 'Mordisco' poder: 15.d2 := Movimiento new. d2 nombre: 'Garra de Hidra' poder: 25. e2 := Movimiento new. e2 nombre: 'Bomba lodo' poder: 30.bestia2 agragarMovimiento: c2; agragarMovimiento: b2; agragarMovimiento: d2; agragarMovimiento: e2.   super initialize.	"self takeKeyboardFocus."       "Configurar la ventana del juego y abrirla en el mundo"   self extent: 640 @ 640.   self createBackground.	botones:= Array new: 4. 	   "Inicializar el jugador y agregarlo al mundo"   jugador := Jugador new.	jugador nombre: 'Jugador'; bestia: bestia1; esRobot: false.  	jugador1:= jugador.   	self addMorph: jugador.			enemigo:= Rival new.	enemigo nombre: 'Rival'; bestia: bestia2; esRobot: true. 	jugador2:= enemigo .	self addMorph: enemigo.		self createButtons.		self createLifeBar.	! !!Batalla methodsFor: 'Juego' stamp: 'AlejandroTorres 11/23/2024 22:20'!exitGame	self delete.! !!Batalla methodsFor: 'Juego' stamp: 'Ayrton 11/24/2024 03:28'!mov3	self terminoBatalla.		self turnoJugador: 3.		"jugador2 bestia vida: ((jugador2 bestia vida) - ((jugador1 bestia movimiento: 1) poder))".	self cuadroDeTexto: 'Se usó ', ((jugador1 bestia movimiento: 3) nombre) asString.		self actualizarVida: vida2 and: ((jugador1 bestia movimiento: 3) poder).		self botonNext: cuadro.! !!Batalla methodsFor: 'Juego' stamp: 'Ayrton 11/24/2024 03:29'!turnoJugador: i "Movimiento" 	jugador2 bestia vida: ((jugador2 bestia vida) - ((jugador1 bestia movimiento: i) poder)).	! !!Batalla methodsFor: 'Juego' stamp: 'Ayrton 11/24/2024 03:46'!terminoBatalla	""	(jugador1 bestia vida <= 0) ifTrue: [ 		self cuadroDeTexto: 'El rival ha ganado!!'.		self botonNextExit. ^true		 ].	(jugador2 bestia vida <= 0) ifTrue: [ 		self cuadroDeTexto: 'Tú has ganado!!'.		self botonNextExit.^true		 ].^false! !!Batalla methodsFor: 'Juego' stamp: 'Ayrton 11/24/2024 03:48'!turnoRival 	|movimiento_bot|	"el condicional es para que no siga el turno si ya ha perdido"	(self terminoBatalla) ifFalse:	["movimiento_sel:= jugador bestia movimiento_sel."	movimiento_bot:= (jugador2 bestia) movimiento: (jugador2 seleccionarMovimiento). 	movimiento_bot usarMovimientoPara: jugador1. 		self actualizarVida: vida1 and: movimiento_bot poder.	self cuadroDeTexto: 'El rival usó ', movimiento_bot nombre.	self botonNextRival:cuadro.	self terminoBatalla.]	"jugador1 bestia vida: ((jugador1 bestia vida) - ((jugador2 bestia movimiento: i) poder))"	! !!Batalla methodsFor: 'Juego' stamp: 'AyrtonS 11/13/2024 02:04'!jugador1	^ jugador1! !!Batalla methodsFor: 'Juego' stamp: 'AyrtonS 11/13/2024 02:04'!jugador1: anObject	jugador1 := anObject! !!Batalla methodsFor: 'Juego' stamp: 'AlejandroTorres 11/23/2024 21:39'!iniciarBatalla	""	| termino turnoJugador |	termino := false. turnoJugador := true.	Transcript show: 'La batalla ha comenzado!!'; cr.		[ termino ] whileFalse: [ 			(turnoJugador) ifFalse:[			turnoJugador:= [self turnoRival] value.		].				termino := self terminoBatalla.				(turnoJugador) 			ifTrue: [ turnoJugador := false ]			ifFalse: [ turnoJugador := true ].		 ]! !!Batalla methodsFor: 'Juego' stamp: 'Ayrton 11/24/2024 03:28'!mov2	self terminoBatalla.		self turnoJugador: 2.		"jugador2 bestia vida: ((jugador2 bestia vida) - ((jugador1 bestia movimiento: 1) poder))".	self cuadroDeTexto: 'Se usó ', ((jugador1 bestia movimiento: 2) nombre) asString.		self actualizarVida: vida2 and: ((jugador1 bestia movimiento: 2) poder).		self botonNext: cuadro.! !!Batalla methodsFor: 'Juego' stamp: 'AyrtonS 11/13/2024 02:04'!jugador2	^ jugador2! !!Batalla methodsFor: 'Juego' stamp: 'Ayrton 11/24/2024 03:28'!mov1	self terminoBatalla.		self turnoJugador: 1.		"jugador2 bestia vida: ((jugador2 bestia vida) - ((jugador1 bestia movimiento: 1) poder))".	self cuadroDeTexto: 'Se usó ', ((jugador1 bestia movimiento: 1) nombre) asString.		self actualizarVida: vida2 and: ((jugador1 bestia movimiento: 1) poder).		self botonNext: cuadro.! !!Batalla methodsFor: 'Juego' stamp: 'Ayrton 11/24/2024 03:28'!mov4	self terminoBatalla.		self turnoJugador: 4.		"jugador2 bestia vida: ((jugador2 bestia vida) - ((jugador1 bestia movimiento: 1) poder))".	self cuadroDeTexto: 'Se usó ', ((jugador1 bestia movimiento: 4) nombre) asString.		self actualizarVida: vida2 and: ((jugador1 bestia movimiento: 4) poder).		self botonNext: cuadro.! !!Batalla methodsFor: 'Juego' stamp: 'AyrtonS 11/13/2024 02:04'!jugador2: anObject	jugador2 := anObject! !!Batalla methodsFor: 'interface' stamp: 'Ayrton 11/24/2024 02:59'!botonNextRival: cuadroText	| nextbutton imagen x y|    imagen:= ImageMorph new. 	 imagen image: (Form fromFileNamed: 'nextButton-46x35.png').	x:= self bounds right - 100. 	y:= self bounds bottom - 70.	imagen position: x@y.     "Botón"    nextbutton := SimpleButtonMorph new.	nextbutton color: Color black.	nextbutton extent: 46 @ 35.    nextbutton position: x@y.    nextbutton on: #mouseUp send: #delete to: nextbutton.	nextbutton on: #mouseUp send: #delete to: cuadroText.  	nextbutton addMorph: imagen. 	     self addMorph: nextbutton.! !!Batalla methodsFor: 'interface' stamp: 'Tomy 11/22/2024 12:04'!createBackground    "Cargar y mostrar la imagen de fondo"    background:= ImageMorph new.    background image: (Form fromFileNamed: 'arenaPokemon.png').     background extent: 640 @ 640.	background bounds: (0 @ 0 corner: 640 @ 640).    self extent: 640 @ 640.  "Ajusta el tama√±o del men√∫"    self addMorph: background.! !!Batalla methodsFor: 'interface' stamp: 'Ayrton 11/24/2024 03:11'!botonNextExit	| nextbutton imagen x y|    imagen:= ImageMorph new. 	 imagen image: (Form fromFileNamed: 'nextButton-46x35.png').	x:= self bounds right - 100. 	y:= self bounds bottom - 70.	imagen position: x@y.     "Botón"    nextbutton := SimpleButtonMorph new.	nextbutton color: Color black.	nextbutton extent: 46 @ 35.    nextbutton position: x@y.    nextbutton on: #mouseUp send: #exitGame to: self. 	nextbutton addMorph: imagen. 	     self addMorph: nextbutton.! !!Batalla methodsFor: 'interface' stamp: 'AlejandroTorres 11/23/2024 23:28'!createButtons     | button i|   i:= (botones indexOf: button).   "Botón"1 to: 4 do:[:x|    button := SimpleButtonMorph new.	button color: Color black.	button extent: 100 @ 90.   button position: (x*115)@600.	x caseOf: { 		[1] -> [button on: #mouseUp send: #mov1 to: self.].		[2] -> [button on: #mouseUp send: #mov2 to: self.].		[3] -> [button on: #mouseUp send: #mov3 to: self.].		[4] -> [button on: #mouseUp send: #mov4 to: self.].	 }.		button label: ((jugador1 bestia) movimiento: x) nombre. 	botones at: x put: button.   		self addMorph: button.]. ! !!Batalla methodsFor: 'interface' stamp: 'Ayrton 11/24/2024 02:54'!cuadroDeTexto: entrada	 |texto x y x_c y_c|	x:= (self bounds left) + 30.	y:= (self bounds top) + 550. 	cuadro:= ImageMorph new. 	cuadro image:  (Form fromFileNamed: 'cuadroDeTexto.png').	cuadro bounds: (x@y extent: 420@60).		x_c:= (cuadro bounds left) + 200. 	y_c:= (cuadro bounds top) + 20.	texto:= TextMorph new.	texto color: Color black.	texto contents: entrada.	texto	position: x_c@y_c. 	self addMorph: cuadro.	cuadro addMorph: texto.			! !!Batalla methodsFor: 'interface' stamp: 'AlejandroTorres 11/23/2024 22:47'!createLifeBar|lifebar lifeBar2 x_1 y_1 x_2 y_2|    lifebar:= ImageMorph new.    lifebar image: (Form fromFileNamed: 'lifeBar-200@200.png'). 	 		vida1:= Morph new. 	vida1 color: Color green. 	vida1 extent: 100@15.  	x_1:= (lifebar bounds left) + 40.	y_1:= (lifebar bounds top) + (90).	vida1 position: (x_1@y_1).  "Se puede solo x y"			x_1:= (jugador1 bounds left) + 10.	y_1:= (jugador1 bounds top) - 85. 	lifebar addMorph: vida1.	lifebar position: x_1@y_1.    self addMorph: lifebar.		lifeBar2:= ImageMorph new. 	lifeBar2 image: (Form fromFileNamed: 'lifeBarHidra-170@170.png').		vida2:= Morph new. 	vida2 color: Color green. 	vida2 extent: 100@12. 	x_2:= (lifeBar2  bounds left) + 25. 	y_2:= (lifeBar2 bounds top) + 77. 	vida2 position: (x_2@y_2).		lifeBar2 addMorph: vida2.		x_2:= (jugador2 bounds left). 	y_2:= (jugador2 bounds top) - 110. 		lifeBar2 position: x_2@y_2. 		self addMorph: lifeBar2.! !!Batalla methodsFor: 'interface' stamp: 'Ayrton 11/24/2024 02:59'!botonNext: cuadroText ": cuadro"	| nextbutton imagen x y|    imagen:= ImageMorph new. 	 imagen image: (Form fromFileNamed: 'nextButton-46x35.png').	x:= self bounds right - 100. 	y:= self bounds bottom - 70.	imagen position: x@y.     "Botón"    nextbutton := SimpleButtonMorph new.	nextbutton color: Color black.	nextbutton extent: 46 @ 35. "aqui van las mismas dimesiones que la imagen del boton"    nextbutton position: x@y.    nextbutton on: #mouseUp send: #delete to: nextbutton.	nextbutton on: #mouseUp send: #delete to: cuadroText. 	nextbutton on: #mouseUp send: #turnoRival to: self. 	nextbutton addMorph: imagen. 	     self addMorph: nextbutton.	! !!Batalla methodsFor: 'interface' stamp: 'AlejandroTorres 11/23/2024 20:49'!actualizarVida: vida and: dano "Morph"	|dimensiones|	dimensiones:= vida extent. 	vida extent: dimensiones + (((-1)*dano)@0).  ! !Morph subclass: #Bestia	instanceVariableNames: 'nombre vida movimientos cantidadMovimientos imagen'	classVariableNames: ''	poolDictionaries: ''	category: 'juego - batalla'!!Bestia methodsFor: 'accessing' stamp: 'AlejandroTorres 11/23/2024 19:58'!movimiento: i	"devuelve un movimiento"	^movimientos at: i.! !!Bestia methodsFor: 'accessing' stamp: 'AyrtonS 11/13/2024 01:27'!vida: anObject	vida := anObject! !!Bestia methodsFor: 'accessing' stamp: 'AyrtonS 11/13/2024 01:27'!nombre: anObject	nombre := anObject! !!Bestia methodsFor: 'accessing' stamp: 'AyrtonS 11/13/2024 01:27'!nombre	^ nombre! !!Bestia methodsFor: 'accessing' stamp: 'AyrtonS 11/20/2024 18:38'!agragarMovimiento: unMovimiento	cantidadMovimientos := cantidadMovimientos + 1.	movimientos	at: cantidadMovimientos put: unMovimiento.		! !!Bestia methodsFor: 'accessing' stamp: 'AyrtonS 11/21/2024 22:00'!seleccionarMovimiento_esRobot: esRobot	"selecciona un movimiento disponible de la bestia"	| randomGenerator randomInteger bandera seleccion |	bandera := true.	(esRobot)		ifTrue: [ 			randomGenerator := Random new.			randomInteger := randomGenerator nextInt: cantidadMovimientos. "Genera un n√∫mero entre 1 y la cantidad de la bestia"			Transcript show: randomInteger.			 ^randomInteger.			]		ifFalse: [ 			Transcript show: 'Seleccione un movimiento: '; cr.			[ bandera ] whileTrue: [ 				self mostrarMovimientos.				seleccion := (UIManager default request: 'Ingrese el n√∫mero del movimiento elegido') asInteger.				( (seleccion > 0) and: (seleccion <= cantidadMovimientos )) 					ifTrue: [ bandera:=false. ^seleccion]					ifFalse: [ Transcript show: 'Ingrese un n√∫mero v√°lido.' ]			 ].			 ].! !!Bestia methodsFor: 'accessing' stamp: 'AyrtonS 11/13/2024 01:27'!vida	^ vida! !!Bestia methodsFor: 'accessing' stamp: 'AyrtonS 11/13/2024 01:58'!mostrarMovimientos	"muestra los movimientos"	1 to: cantidadMovimientos do:[:i|		Transcript show: (movimientos at: i) asString ; cr.		]! !!Bestia methodsFor: 'initialize' stamp: 'AlejandroTorres 11/23/2024 20:05'!initialize	"inicializaci√≥n de la bestia"	nombre := ''.	vida := 100.	movimientos := Dictionary new.	cantidadMovimientos := 0.	! !Morph subclass: #Interfaz	instanceVariableNames: 'background'	classVariableNames: ''	poolDictionaries: ''	category: 'juego - batalla'!!Interfaz methodsFor: 'initialization' stamp: 'AlejandroTorres 11/23/2024 15:41'!initialize    super initialize.    self extent: 400 @ 400.	 self createBackground.	! !!Interfaz methodsFor: 'as yet unclassified' stamp: 'Ayrton 11/22/2024 20:46'!createButton: nombre x: x y: y    | button |        "Botón"    button := SimpleButtonMorph new.    button label: nombre .	button color: Color black.		button extent: 100 @ 50.    button position: x @ y.    button on: #mouseUp send: #delete to: self.    self addMorph: button.! !!Interfaz methodsFor: 'as yet unclassified' stamp: 'Ayrton 11/22/2024 20:45'!createBackground    "Cargar y mostrar la imagen de fondo"    background:= ImageMorph new.    background image: (Form fromFileNamed: 'arenaPokemon.png').     background extent: 640 @ 640.	background bounds: (0 @ 0 corner: 640 @ 640).    self extent: 640 @ 640.  "Ajusta el tama‚àö¬±o del men‚àö‚à´"    self addMorph: background.! !Morph subclass: #Jugador	instanceVariableNames: 'nombre bestia esRobot sprite'	classVariableNames: ''	poolDictionaries: ''	category: 'juego - batalla'!!Jugador methodsFor: 'accessing' stamp: 'AlejandroTorres 11/22/2024 22:27'!esRobot: anObject	esRobot := anObject! !!Jugador methodsFor: 'accessing' stamp: 'AlejandroTorres 11/22/2024 22:27'!sprite: anObject	sprite := anObject! !!Jugador methodsFor: 'accessing' stamp: 'AlejandroTorres 11/22/2024 22:27'!bestia	^ bestia! !!Jugador methodsFor: 'accessing' stamp: 'AlejandroTorres 11/22/2024 22:27'!nombre: anObject	nombre := anObject! !!Jugador methodsFor: 'accessing' stamp: 'AlejandroTorres 11/22/2024 22:27'!esRobot	^ esRobot! !!Jugador methodsFor: 'accessing' stamp: 'AlejandroTorres 11/22/2024 22:27'!nombre	^ nombre! !!Jugador methodsFor: 'accessing' stamp: 'AlejandroTorres 11/22/2024 22:27'!sprite	^ sprite! !!Jugador methodsFor: 'accessing' stamp: 'AlejandroTorres 11/22/2024 22:27'!bestia: anObject	bestia := anObject! !!Jugador methodsFor: 'as yet unclassified' stamp: 'AlejandroTorres 11/23/2024 15:38'!createSprite    "Cargar y mostrar la imagen de fondo"    sprite:= ImageMorph new.    sprite image: (Form fromFileNamed: 'quimera2.png').     sprite extent: 20 @ 10.    self addMorph: sprite.! !!Jugador methodsFor: 'as yet unclassified' stamp: 'AlejandroTorres 11/22/2024 22:48'!seleccionarMovimiento "Devuelve la clave del numero de movimiento"	Transcript show: 'Seleccione un movimiento: '; cr.! !!Jugador methodsFor: 'initialization' stamp: 'AlejandroTorres 11/23/2024 15:40'!initialize         super initialize.        self createSprite.		  self color: Color transparent.        self extent: 15 @ 10.        self position: 10 @ 280. ! !Object subclass: #Movimiento	instanceVariableNames: 'nombre poder'	classVariableNames: ''	poolDictionaries: ''	category: 'juego - batalla'!!Movimiento methodsFor: 'accessing' stamp: 'AyrtonS 11/13/2024 01:23'!nombre: anObject poder: unValor	"Asigna los los valores"	nombre := anObject.	poder := unValor.! !!Movimiento methodsFor: 'accessing' stamp: 'AyrtonS 11/13/2024 01:22'!nombre	^ nombre! !!Movimiento methodsFor: 'accessing' stamp: 'AlejandroTorres 11/23/2024 20:00'!usarMovimientoPara: defensor "Son bestias directamente"	"Atacar"	"defensor vida: (defensor vida - self poder).	(defensor vida < 0) ifTrue: [ 		Transcript 			show: defensor nombre asString ;			nextPutAll: ' ha sido derrotado!!!!'		 ]"	(defensor bestia) vida: 	((defensor bestia vida) - (self poder)).  	Transcript show: defensor bestia vida.! !!Movimiento methodsFor: 'accessing' stamp: 'AyrtonS 11/13/2024 01:22'!poder	^ poder! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Movimiento class	instanceVariableNames: ''!!Movimiento class methodsFor: 'factory' stamp: 'AyrtonS 11/13/2024 01:24'!nombre: unNombre poder: unPoder	"Crea el movimiento"	| nuevo |	nuevo := Movimiento new.	nuevo nombre: unNombre poder: unPoder.	^nuevo! !Jugador subclass: #Rival	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'juego - batalla'!!Rival methodsFor: 'initialization' stamp: 'AlejandroTorres 11/22/2024 22:10'!initialize         super initialize.		  self color: Color transparent.        self extent: 15 @ 10.        self position: 400 @ 280. ! !!Rival methodsFor: 'as yet unclassified' stamp: 'AlejandroTorres 11/23/2024 16:00'!createSprite    "Cargar y mostrar la imagen de fondo"    sprite:= ImageMorph new.    sprite image: (Form fromFileNamed: 'hidra-165@165.png').     sprite extent: 20 @ 10.    self addMorph: sprite.! !!Rival methodsFor: 'as yet unclassified' stamp: 'AlejandroTorres 11/22/2024 22:44'!seleccionarMovimiento|randomGenerator randomInteger|randomGenerator := Random new.			randomInteger := randomGenerator nextInt: 4. "Genera un n√∫mero entre 1 y la cantidad de la bestia"			^randomInteger.! !